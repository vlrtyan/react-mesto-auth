{"ast":null,"code":"import _slicedToArray from\"/Users/vlrtyan/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import PopupWithForm from\"./PopupWithForm\";import React from'react';import CurrentUserContext from'../contexts/CurrentUserContext.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(props){var currentUser=React.useContext(CurrentUserContext);var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),description=_React$useState4[0],setDescription=_React$useState4[1];function handleNameChange(event){setName(event.target.value);}function handleDescriptionChange(event){setDescription(event.target.value);}function handleSubmit(event){event.preventDefault();props.onUpdateUser({name:name,about:description});}React.useEffect(function(){setName(currentUser.name||'');setDescription(currentUser.about||'');},[currentUser,props.isOpen]);return/*#__PURE__*/_jsxs(PopupWithForm,{name:'edit-profile',title:'Редактировать профиль',isOpen:props.isOpen,onClose:props.onClose,onUpdateUser:props.onUpdateUser,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{value:name,onChange:handleNameChange,type:\"text\",placeholder:\"\\u0416\\u0430\\u043A-\\u0418\\u0432 \\u041A\\u0443\\u0441\\u0442\\u043E\",className:\"popup__input name-popup__input name-popup__input_type_name\",name:\"fullname\",id:\"fullname\",required:true,minLength:\"2\",maxLength:\"40\"}),/*#__PURE__*/_jsx(\"span\",{className:\"error\",id:\"fullname-error\"}),/*#__PURE__*/_jsx(\"input\",{value:description,onChange:handleDescriptionChange,type:\"text\",placeholder:\"\\u0418\\u0441\\u0441\\u043B\\u0435\\u0434\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C \\u043E\\u043A\\u0435\\u0430\\u043D\\u0430\",className:\"popup__input name-popup__input name-popup__input_type_description\",name:\"description\",id:\"description\",required:true,minLength:\"2\",maxLength:\"200\"}),/*#__PURE__*/_jsx(\"span\",{className:\"error\",id:\"description-error\"})]});}export default EditProfilePopup;","map":{"version":3,"sources":["/Users/vlrtyan/dev/react-mesto-auth/src/components/EditProfilePopup.js"],"names":["PopupWithForm","React","CurrentUserContext","EditProfilePopup","props","currentUser","useContext","useState","name","setName","description","setDescription","handleNameChange","event","target","value","handleDescriptionChange","handleSubmit","preventDefault","onUpdateUser","about","useEffect","isOpen","onClose"],"mappings":"yHAAA,MAAOA,CAAAA,aAAP,KAA0B,iBAA1B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,kBAAP,KAA+B,mCAA/B,C,wFAEA,QAASC,CAAAA,gBAAT,CAA0BC,KAA1B,CAAiC,CAC7B,GAAMC,CAAAA,WAAW,CAAGJ,KAAK,CAACK,UAAN,CAAiBJ,kBAAjB,CAApB,CACA,oBAAwBD,KAAK,CAACM,QAAN,CAAe,EAAf,CAAxB,oDAAOC,IAAP,qBAAaC,OAAb,qBACA,qBAAsCR,KAAK,CAACM,QAAN,CAAe,EAAf,CAAtC,qDAAOG,WAAP,qBAAoBC,cAApB,qBAEA,QAASC,CAAAA,gBAAT,CAA0BC,KAA1B,CAAiC,CAC7BJ,OAAO,CAACI,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAP,CACH,CACD,QAASC,CAAAA,uBAAT,CAAiCH,KAAjC,CAAwC,CACpCF,cAAc,CAACE,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAd,CACH,CAED,QAASE,CAAAA,YAAT,CAAsBJ,KAAtB,CAA6B,CACzBA,KAAK,CAACK,cAAN,GAEAd,KAAK,CAACe,YAAN,CAAmB,CACjBX,IAAI,CAAJA,IADiB,CAEjBY,KAAK,CAAEV,WAFU,CAAnB,EAID,CAEHT,KAAK,CAACoB,SAAN,CAAgB,UAAM,CAClBZ,OAAO,CAACJ,WAAW,CAACG,IAAZ,EAAoB,EAArB,CAAP,CACAG,cAAc,CAACN,WAAW,CAACe,KAAZ,EAAqB,EAAtB,CAAd,CACD,CAHH,CAGK,CAACf,WAAD,CAAcD,KAAK,CAACkB,MAApB,CAHL,EAKA,mBACI,MAAC,aAAD,EACI,IAAI,CAAE,cADV,CAEI,KAAK,CAAE,uBAFX,CAGI,MAAM,CAAElB,KAAK,CAACkB,MAHlB,CAII,OAAO,CAAElB,KAAK,CAACmB,OAJnB,CAKI,YAAY,CAAEnB,KAAK,CAACe,YALxB,CAMI,QAAQ,CAAEF,YANd,wBAOI,cACI,KAAK,CAAET,IADX,CAEI,QAAQ,CAAEI,gBAFd,CAGI,IAAI,CAAC,MAHT,CAII,WAAW,CAAC,gEAJhB,CAKI,SAAS,CAAC,4DALd,CAMI,IAAI,CAAC,UANT,CAOI,EAAE,CAAC,UAPP,CAQI,QAAQ,KARZ,CASI,SAAS,CAAC,GATd,CAUI,SAAS,CAAC,IAVd,EAPJ,cAkBI,aAAM,SAAS,CAAC,OAAhB,CAAwB,EAAE,CAAC,gBAA3B,EAlBJ,cAmBI,cACI,KAAK,CAAEF,WADX,CAEI,QAAQ,CAAEM,uBAFd,CAGI,IAAI,CAAC,MAHT,CAII,WAAW,CAAC,qHAJhB,CAKI,SAAS,CAAC,mEALd,CAMI,IAAI,CAAC,aANT,CAOI,EAAE,CAAC,aAPP,CAQI,QAAQ,KARZ,CASI,SAAS,CAAC,GATd,CAUI,SAAS,CAAC,KAVd,EAnBJ,cA8BI,aAAM,SAAS,CAAC,OAAhB,CAAwB,EAAE,CAAC,mBAA3B,EA9BJ,GADJ,CAkCH,CAED,cAAeb,CAAAA,gBAAf","sourcesContent":["import PopupWithForm from \"./PopupWithForm\";\nimport React from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\n\nfunction EditProfilePopup(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n    const [name, setName] = React.useState('');\n    const [description, setDescription] = React.useState('');\n\n    function handleNameChange(event) {\n        setName(event.target.value)\n    }\n    function handleDescriptionChange(event) {\n        setDescription(event.target.value)\n    }\n\n    function handleSubmit(event) {\n        event.preventDefault();\n      \n        props.onUpdateUser({\n          name,\n          about: description,\n        });\n      }\n\n    React.useEffect(() => {\n        setName(currentUser.name || '');\n        setDescription(currentUser.about || '');\n      }, [currentUser, props.isOpen]);\n\n    return (\n        <PopupWithForm\n            name={'edit-profile'}\n            title={'Редактировать профиль'}\n            isOpen={props.isOpen}\n            onClose={props.onClose}\n            onUpdateUser={props.onUpdateUser}\n            onSubmit={handleSubmit}>\n            <input\n                value={name}\n                onChange={handleNameChange}\n                type=\"text\"\n                placeholder=\"Жак-Ив Кусто\"\n                className=\"popup__input name-popup__input name-popup__input_type_name\"\n                name=\"fullname\"\n                id=\"fullname\"\n                required\n                minLength=\"2\"\n                maxLength=\"40\" />\n            <span className=\"error\" id=\"fullname-error\"></span>\n            <input\n                value={description}\n                onChange={handleDescriptionChange}\n                type=\"text\"\n                placeholder=\"Исследователь океана\"\n                className=\"popup__input name-popup__input name-popup__input_type_description\"\n                name=\"description\"\n                id=\"description\"\n                required\n                minLength=\"2\"\n                maxLength=\"200\" />\n            <span className=\"error\" id=\"description-error\"></span>\n        </PopupWithForm>\n    )\n}\n\nexport default EditProfilePopup;"]},"metadata":{},"sourceType":"module"}